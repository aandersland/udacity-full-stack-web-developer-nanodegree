{% extends "main.html" %}
{% block content1 %}

{% if category %}
<form action="{{url_for('update_category', category_id=category.id)}}" method="POST">
    <div style="display: grid; grid-template-columns: repeat(7, 1fr)">
        <div style="grid-column: span 2">
            <label>Name:</label></div>
        <div style="grid-column: span 5">
            <input type="text" maxlength="100" name="name" value="{{category.name}}">
        </div>
    </div>

    <div style="display: grid; grid-template-columns: repeat(7, 1fr)">
        <div style="grid-column: span 2">
            <label>Description:</label>
        </div>
        <div style="grid-column: span 5">
            <textarea rows="10" cols="50" name="description">{{category.description}}</textarea>
        </div>
    </div>
    <div>
        <!--todo bug fix the flash message for forms using multiple submits for different url_for-->
        <a>
            <button type="submit" id="category_save">Save</button>
        </a>
    </div>
</form>
<a href="{{url_for('show_category_books', category_id=category.id)}}" method="GET">
    <button>Cancel</button>
</a>

{% else %}

<form action="{{url_for('create_category')}}" method="POST">
    <div style="display: grid; grid-template-columns: repeat(7, 1fr)">
        <div style="grid-column: span 2">
            <label>Name:</label></div>
        <div style="grid-column: span 5">
            <input type="text" maxlength="100" name="name" value="">
        </div>
    </div>

    <div style="display: grid; grid-template-columns: repeat(7, 1fr)">
        <div style="grid-column: span 2">
            <label>Description:</label>
        </div>
        <div style="grid-column: span 5">
            <textarea rows="10" cols="50" name="description"></textarea>
        </div>
    </div>
    <div>
        <form action="{{url_for('create_category')}}" method="POST">
            <a>
                <button type="submit" id="create">Create</button>
            </a>
        </form>
    </div>
</form>
<div>
    <div>

    </div>
    <div>

    </div>
</div>
<a href="{{url_for('show_categories')}}" method="GET">
    <button>Cancel</button>
</a>
{% endif %}
{% endblock content1 %}
